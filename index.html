<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Voice Note Tool - Login</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="app">
      <header class="app-header">
        <div class="brand">
          <div class="brand-logo">VNT</div>
          <div class="brand-text">
            <h1>Voice Note Tool</h1>
            <p>Record and manage voice notes for jobs.</p>
          </div>
        </div>
      </header>

      <main class="app-main app-main--login">
        <section class="login-panel">
          <div class="login-header">
            <div class="login-icon">
              <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 1H5C3.89 1 3 1.89 3 3V21C3 22.11 3.89 23 5 23H11V21H5V3H13V9H21ZM20 18L15 23V20H11V18H15V15L20 18Z" fill="currentColor"/>
              </svg>
            </div>
            <h2>Welcome Back</h2>
            <p class="login-subtitle">Enter your credentials to continue</p>
          </div>
          <form id="loginForm">
            <div class="field">
              <label for="username">Username</label>
              <input
                id="username"
                name="username"
                type="text"
                placeholder="Enter your username"
                required
                autocomplete="username"
              />
            </div>
            <div class="field">
              <label for="password">Password</label>
              <input
                id="password"
                name="password"
                type="password"
                placeholder="Enter your password"
                required
                autocomplete="current-password"
              />
            </div>
            <p class="inline-warning" id="loginError" style="display: none;"></p>
            <button class="primary-btn" type="submit" id="loginBtn">
              <span id="loginBtnText">Login</span>
              <svg id="loginBtnIcon" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M5 12H19M19 12L12 5M19 12L12 19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </button>
          </form>
        </section>
      </main>

      <footer class="app-footer">
        <span>Voice Note Tool</span>
        <span class="divider">â€¢</span>
        <span>Login</span>
      </footer>
    </div>

    <script>
      // Check for module support and show error early if not supported
      if (!HTMLScriptElement.supports || !HTMLScriptElement.supports('module')) {
        // Check if browser supports modules
        const testScript = document.createElement('script');
        testScript.type = 'module';
        if (!testScript.type || testScript.type !== 'module') {
          document.body.innerHTML = '<div style="padding: 40px; text-align: center; color: white;"><h2>Browser Not Supported</h2><p>Please use a modern browser:</p><ul style="text-align: left; display: inline-block;"><li>Chrome (latest)</li><li>Firefox (latest)</li><li>Safari (latest)</li><li>Edge (latest)</li></ul></div>';
        }
      }
    </script>
    <script type="module" src="script.js"></script>
    <script nomodule>
      // Fallback for browsers that don't support ES6 modules
      document.body.innerHTML = '<div style="padding: 40px; text-align: center; color: white; background: #1e293b; min-height: 100vh; display: flex; align-items: center; justify-content: center; flex-direction: column;"><h2 style="color: #ef4444;">Browser Not Supported</h2><p>This application requires a modern browser that supports ES6 modules.</p><p>Please update your browser or use:</p><ul style="text-align: left; display: inline-block; color: #a5b4fc;"><li>Chrome (latest version)</li><li>Firefox (latest version)</li><li>Safari (iOS 11+ or latest)</li><li>Edge (latest version)</li></ul></div>';
    </script>
    <noscript>
      <div style="position: fixed; top: 0; left: 0; right: 0; background: #ef4444; color: white; padding: 20px; z-index: 10000; text-align: center;">
        <h3>JavaScript Required</h3>
        <p>Please enable JavaScript to use this application.</p>
      </div>
    </noscript>
  </body>
</html>
